
$(function() {
    $('a[href*="#"]:not([href="#"])').click(function() {
        if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
            var target = $(this.hash);
            target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
            if (target.length) {
                $('html, body').animate({
                    scrollTop: target.offset().top
                }, 500);
                return false;
            }
        }
    });
});

if ('registerElement' in document && 'createShadowRoot' in HTMLElement.prototype && 'import' in document.createElement('link') && 'content' in document.createElement('template')) {
// We're using a browser with native WC support!
} else {
	document.write('<script src="/bower_components/es6-shim/es6-shim.min.js"></script>');
	document.write('<script src="/bower_components/webcomponentsjs/webcomponents-lite.min.js"><\/script>');

}

if(!window.fetch) {
	document.write('<script src="/bower_components/fetch/fetch.js"></script>');
}

if("serviceWorker" in navigator) {
  navigator.serviceWorker.register('service-worker.js');
}

var sponsorsDiv = document.querySelector('#sponsors').querySelector('div > div >div');
var sponsorTemplate = document.querySelector('#sponsor-template');
function enumerateSponsorshipScope(scope) {
  switch(scope) {
    case 'national':
      return 2;
    case 'local':
      return 1;
    default:
      return -1;
  }
}

function enumerateLevel(level) {
  switch(level) {
    case 'gold':
      return 2;
    case 'silver':
      return 1;
    case 'community':
      return 0;
  }
}
fetch('/sponsors')
.then(function(resp) { return resp.json()})
.then(function(sponsors) {
  return sponsors.filter(function(sponsor) {
    return sponsor.text != "deleted";
  })

})
.then(function(sponsors) {
  return sponsors.sort(function(a,b) {
    return b.priority - a.priority;
  })
})
.then(function(sponsors) {
  console.log(sponsors);
  sponsors.forEach(function(sponsor) {
    var sponsorInst = $.clone(sponsorTemplate);
    sponsorInst.querySelector('a').href = sponsor.link;
    sponsorInst.querySelector('img').src= sponsor.logo;
    sponsorsDiv.appendChild(sponsorInst);
  });
})

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJzY3JpcHRzLm1pbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbiQoZnVuY3Rpb24oKSB7XG4gICAgJCgnYVtocmVmKj1cIiNcIl06bm90KFtocmVmPVwiI1wiXSknKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL15cXC8vLCcnKSA9PSB0aGlzLnBhdGhuYW1lLnJlcGxhY2UoL15cXC8vLCcnKSAmJiBsb2NhdGlvbi5ob3N0bmFtZSA9PSB0aGlzLmhvc3RuYW1lKSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gJCh0aGlzLmhhc2gpO1xuICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0Lmxlbmd0aCA/IHRhcmdldCA6ICQoJ1tuYW1lPScgKyB0aGlzLmhhc2guc2xpY2UoMSkgKyddJyk7XG4gICAgICAgICAgICBpZiAodGFyZ2V0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiB0YXJnZXQub2Zmc2V0KCkudG9wXG4gICAgICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn0pO1xuXG5pZiAoJ3JlZ2lzdGVyRWxlbWVudCcgaW4gZG9jdW1lbnQgJiYgJ2NyZWF0ZVNoYWRvd1Jvb3QnIGluIEhUTUxFbGVtZW50LnByb3RvdHlwZSAmJiAnaW1wb3J0JyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJykgJiYgJ2NvbnRlbnQnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJykpIHtcbi8vIFdlJ3JlIHVzaW5nIGEgYnJvd3NlciB3aXRoIG5hdGl2ZSBXQyBzdXBwb3J0IVxufSBlbHNlIHtcblx0ZG9jdW1lbnQud3JpdGUoJzxzY3JpcHQgc3JjPVwiL2Jvd2VyX2NvbXBvbmVudHMvZXM2LXNoaW0vZXM2LXNoaW0ubWluLmpzXCI+PC9zY3JpcHQ+Jyk7XG5cdGRvY3VtZW50LndyaXRlKCc8c2NyaXB0IHNyYz1cIi9ib3dlcl9jb21wb25lbnRzL3dlYmNvbXBvbmVudHNqcy93ZWJjb21wb25lbnRzLWxpdGUubWluLmpzXCI+PFxcL3NjcmlwdD4nKTtcblxufVxuXG5pZighd2luZG93LmZldGNoKSB7XG5cdGRvY3VtZW50LndyaXRlKCc8c2NyaXB0IHNyYz1cIi9ib3dlcl9jb21wb25lbnRzL2ZldGNoL2ZldGNoLmpzXCI+PC9zY3JpcHQ+Jyk7XG59XG5cbmlmKFwic2VydmljZVdvcmtlclwiIGluIG5hdmlnYXRvcikge1xuICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcignc2VydmljZS13b3JrZXIuanMnKTtcbn1cblxudmFyIHNwb25zb3JzRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Nwb25zb3JzJykucXVlcnlTZWxlY3RvcignZGl2ID4gZGl2ID5kaXYnKTtcbnZhciBzcG9uc29yVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3BvbnNvci10ZW1wbGF0ZScpO1xuZnVuY3Rpb24gZW51bWVyYXRlU3BvbnNvcnNoaXBTY29wZShzY29wZSkge1xuICBzd2l0Y2goc2NvcGUpIHtcbiAgICBjYXNlICduYXRpb25hbCc6XG4gICAgICByZXR1cm4gMjtcbiAgICBjYXNlICdsb2NhbCc6XG4gICAgICByZXR1cm4gMTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIC0xO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVudW1lcmF0ZUxldmVsKGxldmVsKSB7XG4gIHN3aXRjaChsZXZlbCkge1xuICAgIGNhc2UgJ2dvbGQnOlxuICAgICAgcmV0dXJuIDI7XG4gICAgY2FzZSAnc2lsdmVyJzpcbiAgICAgIHJldHVybiAxO1xuICAgIGNhc2UgJ2NvbW11bml0eSc6XG4gICAgICByZXR1cm4gMDtcbiAgfVxufVxuZmV0Y2goJy9zcG9uc29ycycpXG4udGhlbihmdW5jdGlvbihyZXNwKSB7IHJldHVybiByZXNwLmpzb24oKX0pXG4udGhlbihmdW5jdGlvbihzcG9uc29ycykge1xuICByZXR1cm4gc3BvbnNvcnMuZmlsdGVyKGZ1bmN0aW9uKHNwb25zb3IpIHtcbiAgICByZXR1cm4gc3BvbnNvci50ZXh0ICE9IFwiZGVsZXRlZFwiO1xuICB9KVxuXG59KVxuLnRoZW4oZnVuY3Rpb24oc3BvbnNvcnMpIHtcbiAgcmV0dXJuIHNwb25zb3JzLnNvcnQoZnVuY3Rpb24oYSxiKSB7XG4gICAgcmV0dXJuIGIucHJpb3JpdHkgLSBhLnByaW9yaXR5O1xuICB9KVxufSlcbi50aGVuKGZ1bmN0aW9uKHNwb25zb3JzKSB7XG4gIGNvbnNvbGUubG9nKHNwb25zb3JzKTtcbiAgc3BvbnNvcnMuZm9yRWFjaChmdW5jdGlvbihzcG9uc29yKSB7XG4gICAgdmFyIHNwb25zb3JJbnN0ID0gJC5jbG9uZShzcG9uc29yVGVtcGxhdGUpO1xuICAgIHNwb25zb3JJbnN0LnF1ZXJ5U2VsZWN0b3IoJ2EnKS5ocmVmID0gc3BvbnNvci5saW5rO1xuICAgIHNwb25zb3JJbnN0LnF1ZXJ5U2VsZWN0b3IoJ2ltZycpLnNyYz0gc3BvbnNvci5sb2dvO1xuICAgIHNwb25zb3JzRGl2LmFwcGVuZENoaWxkKHNwb25zb3JJbnN0KTtcbiAgfSk7XG59KVxuIl0sImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
